<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Exploring data using R</title>
  <meta name="description" content="Exploring data using R">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="Exploring data using R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Exploring data using R" />
  
  
  

<meta name="author" content="Kamarul Imran Musa, Wan Nor Arifin">


<meta name="date" content="2017-07-06">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="introduction-to-r.html">
<link rel="next" href="grammar-of-variables.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Placeholder</a></li>
<li class="chapter" data-level="2" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a></li>
<li class="chapter" data-level="3" data-path="textual.html"><a href="textual.html"><i class="fa fa-check"></i><b>3</b> Textual</a><ul>
<li class="chapter" data-level="3.1" data-path="textual.html"><a href="textual.html#basic-descriptive-statistics"><i class="fa fa-check"></i><b>3.1</b> Basic descriptive statistics</a><ul>
<li class="chapter" data-level="3.1.1" data-path="textual.html"><a href="textual.html#describing-a-numerical-variable"><i class="fa fa-check"></i><b>3.1.1</b> Describing a numerical variable</a></li>
<li class="chapter" data-level="3.1.2" data-path="textual.html"><a href="textual.html#describing-a-categorical-variable"><i class="fa fa-check"></i><b>3.1.2</b> Describing a categorical variable</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="textual.html"><a href="textual.html#more-on-descriptive-statistics"><i class="fa fa-check"></i><b>3.2</b> More on descriptive statistics</a><ul>
<li class="chapter" data-level="3.2.1" data-path="textual.html"><a href="textual.html#describing-numerical-variables"><i class="fa fa-check"></i><b>3.2.1</b> Describing numerical variables</a></li>
<li class="chapter" data-level="3.2.2" data-path="textual.html"><a href="textual.html#describing-categorical-variables"><i class="fa fa-check"></i><b>3.2.2</b> Describing categorical variables</a></li>
<li class="chapter" data-level="3.2.3" data-path="textual.html"><a href="textual.html#describing-the-variables-together"><i class="fa fa-check"></i><b>3.2.3</b> Describing the variables together</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="textual.html"><a href="textual.html#more-on-tables"><i class="fa fa-check"></i><b>3.3</b> More on tables</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="grammar-of-variables.html"><a href="grammar-of-variables.html"><i class="fa fa-check"></i><b>4</b> Grammar of variables</a></li>
<li class="chapter" data-level="5" data-path="placeholder-1.html"><a href="placeholder-1.html"><i class="fa fa-check"></i><b>5</b> Placeholder</a></li>
<li class="chapter" data-level="6" data-path="graphical.html"><a href="graphical.html"><i class="fa fa-check"></i><b>6</b> Graphical</a></li>
<li class="chapter" data-level="7" data-path="reporting-results.html"><a href="reporting-results.html"><i class="fa fa-check"></i><b>7</b> Reporting results</a></li>
<li class="chapter" data-level="8" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>8</b> Final Words</a></li>
<li class="chapter" data-level="9" data-path="placeholder-2.html"><a href="placeholder-2.html"><i class="fa fa-check"></i><b>9</b> Placeholder</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Exploring data using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="textual" class="section level1">
<h1><span class="header-section-number">3</span> Textual</h1>
<p>In this chapter, we will go through a number of R functions for basic statistics. The focus will be on the results that are presented in form of numbers in text or tables (textual). We will mostly use the builtin functions (from R standard library). Extra packages will be introduced whenever necessary.</p>
<div id="basic-descriptive-statistics" class="section level2">
<h2><span class="header-section-number">3.1</span> Basic descriptive statistics</h2>
<p>In this part, we are going to use the functions as applied to a variable. For this purpose, we are going to use builtin datasets in R. You can view the available datasets by</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">data</span>()</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Data sets in package ‘datasets’:

## AirPassengers                     Monthly Airline Passenger Numbers 1949-1960
## BJsales                           Sales Data with Leading Indicator
## BJsales.lead (BJsales)            Sales Data with Leading Indicator
## BOD                               Biochemical Oxygen Demand
## CO2                               Carbon Dioxide Uptake in Grass Plants
## ...</code></pre></div>
<p>We can view any dataset description by appending “?” to the dataset name. For example,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?chickwts</code></pre></div>
<p>We will start by using <code>chickwts</code> dataset that contains both numerical (<code>weight</code>) and categorical (<code>feed</code>) variables. We can view the first six observations,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(chickwts)</code></pre></div>
<pre><code>##   weight      feed
## 1    179 horsebean
## 2    160 horsebean
## 3    136 horsebean
## 4    227 horsebean
## 5    217 horsebean
## 6    168 horsebean</code></pre>
<p>the last six observations,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">tail</span>(chickwts)</code></pre></div>
<pre><code>##    weight   feed
## 66    352 casein
## 67    359 casein
## 68    216 casein
## 69    222 casein
## 70    283 casein
## 71    332 casein</code></pre>
<p>and the dimension of the data (row and column).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(chickwts)</code></pre></div>
<pre><code>## [1] 71  2</code></pre>
<p>Here we have 71 rows (71 subjects) and two columns (two variables).</p>
<p>Next, view the names of the variables,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(chickwts)</code></pre></div>
<pre><code>## [1] &quot;weight&quot; &quot;feed&quot;</code></pre>
<p>and view the details of the data,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(chickwts)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    71 obs. of  2 variables:
##  $ weight: num  179 160 136 227 217 168 108 124 143 140 ...
##  $ feed  : Factor w/ 6 levels &quot;casein&quot;,&quot;horsebean&quot;,..: 2 2 2 2 2 2 2 2 2 2 ...</code></pre>
<p>which shows that <code>weight</code> is a numerical variable and <code>feed</code> is a factor, i.e. a categorical variable. <code>feed</code> consists of six categories or levels.</p>
<p>We can view the levels in <code>feed</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">levels</span>(chickwts$feed)</code></pre></div>
<pre><code>## [1] &quot;casein&quot;    &quot;horsebean&quot; &quot;linseed&quot;   &quot;meatmeal&quot;  &quot;soybean&quot;   &quot;sunflower&quot;</code></pre>
<div id="describing-a-numerical-variable" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Describing a numerical variable</h3>
<p>A numberical variable is described by a number of descriptive statistics below.</p>
<p>To judge the central tendency of the <code>weight</code> variable, we obtain its mean,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 261.3099</code></pre>
<p>and median,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">median</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 258</code></pre>
<p>To judge its spread and variability, we can view its minimum, maximum and range</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">min</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 108</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">max</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 423</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">range</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 108 423</code></pre>
<p>and obtain its standard deviation (SD)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sd</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 78.0737</code></pre>
<p>variance,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">var</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 6095.503</code></pre>
<p>quantile,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">quantile</span>(chickwts$weight)</code></pre></div>
<pre><code>##    0%   25%   50%   75%  100% 
## 108.0 204.5 258.0 323.5 423.0</code></pre>
<p>and interquartile range (IQR)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">IQR</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 119</code></pre>
<p>There are nine types of quantile algorithms in R (for <code>quantile</code> and <code>IQR</code>), the default being type 7. You may change this to type 6 (Minitab and SPSS),</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">quantile</span>(chickwts$weight, <span class="dt">type =</span> <span class="dv">6</span>)</code></pre></div>
<pre><code>##   0%  25%  50%  75% 100% 
##  108  203  258  325  423</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">IQR</span>(chickwts$weight, <span class="dt">type =</span> <span class="dv">6</span>)</code></pre></div>
<pre><code>## [1] 122</code></pre>
<p>In addition to SD and IQR, we can obtain its median absolute deviation (MAD),</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mad</span>(chickwts$weight)</code></pre></div>
<pre><code>## [1] 91.9212</code></pre>
<p>It is actually simpler to obtain most these in a single command,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(chickwts$weight)</code></pre></div>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   108.0   204.5   258.0   261.3   323.5   423.0</code></pre>
<p>even simpler, obtain all of the statistics using <code>describe</code> in the <code>psych</code> package</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;psych&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(psych)
<span class="kw">describe</span>(chickwts$weight)</code></pre></div>
<pre><code>##    vars  n   mean    sd median trimmed   mad min max range  skew kurtosis
## X1    1 71 261.31 78.07    258     261 91.92 108 423   315 -0.01    -0.97
##      se
## X1 9.27</code></pre>
</div>
<div id="describing-a-categorical-variable" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Describing a categorical variable</h3>
<p>A categorical variable is described by its count, proportion and percentage by categories.</p>
<p>We obtain the count of the <code>feed</code> variable,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(chickwts$feed)</code></pre></div>
<pre><code>##    casein horsebean   linseed  meatmeal   soybean sunflower 
##        12        10        12        11        14        12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">table</span>(chickwts$feed)</code></pre></div>
<pre><code>## 
##    casein horsebean   linseed  meatmeal   soybean sunflower 
##        12        10        12        11        14        12</code></pre>
<p>both <code>summary</code> and <code>table</code> give the same result.</p>
<p><code>prop.table</code> gives the proportion of the result from the count.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">table</span>(chickwts$feed))</code></pre></div>
<pre><code>## 
##    casein horsebean   linseed  meatmeal   soybean sunflower 
## 0.1690141 0.1408451 0.1690141 0.1549296 0.1971831 0.1690141</code></pre>
<p>the result can be easily turned into percentage,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">prop.table</span>(<span class="kw">table</span>(chickwts$feed))*<span class="dv">100</span></code></pre></div>
<pre><code>## 
##    casein horsebean   linseed  meatmeal   soybean sunflower 
##  16.90141  14.08451  16.90141  15.49296  19.71831  16.90141</code></pre>
<p>To view the count and the percentage together, we can use <code>cbind</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">cbind</span>(<span class="dt">n =</span> <span class="kw">table</span>(chickwts$feed), <span class="st">&quot;%&quot;</span> =<span class="st"> </span><span class="kw">prop.table</span>(<span class="kw">table</span>(chickwts$feed))*<span class="dv">100</span>)</code></pre></div>
<pre><code>##            n        %
## casein    12 16.90141
## horsebean 10 14.08451
## linseed   12 16.90141
## meatmeal  11 15.49296
## soybean   14 19.71831
## sunflower 12 16.90141</code></pre>
<p>We need the quotation marks &quot; &quot; around the percentage sign %, because % also serves as a mathematical operator in R.</p>
</div>
</div>
<div id="more-on-descriptive-statistics" class="section level2">
<h2><span class="header-section-number">3.2</span> More on descriptive statistics</h2>
<p>Just now, we viewed all the statistics as applied to a variable. In this part, we are going to view the statistics on a number of variables. This includes viewing a group of numerical variables or categorical variables, or a mixture of numerical and categorical variables. This is relevant in a sense that, most of the time, we want to view everything in one go (e.g. the statistics of all items in a questionnaire), compare the means of several groups and obtain cross-tabulation of categorical variables.</p>
<div id="describing-numerical-variables" class="section level3">
<h3><span class="header-section-number">3.2.1</span> Describing numerical variables</h3>
<p>Let us use <code>women</code> dataset,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(women)</code></pre></div>
<pre><code>##   height weight
## 1     58    115
## 2     59    117
## 3     60    120
## 4     61    123
## 5     62    126
## 6     63    129</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(women)</code></pre></div>
<pre><code>## [1] &quot;height&quot; &quot;weight&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(women)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    15 obs. of  2 variables:
##  $ height: num  58 59 60 61 62 63 64 65 66 67 ...
##  $ weight: num  115 117 120 123 126 129 132 135 139 142 ...</code></pre>
<p>which consists of <code>weight</code> and <code>height</code> numerical variables.</p>
<p>The variables can be easily viewed together by <code>summary</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(women)</code></pre></div>
<pre><code>##      height         weight     
##  Min.   :58.0   Min.   :115.0  
##  1st Qu.:61.5   1st Qu.:124.5  
##  Median :65.0   Median :135.0  
##  Mean   :65.0   Mean   :136.7  
##  3rd Qu.:68.5   3rd Qu.:148.0  
##  Max.   :72.0   Max.   :164.0</code></pre>
<p>even better using <code>describe</code> (<code>psych</code>),</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">describe</span>(women)</code></pre></div>
<pre><code>##        vars  n   mean    sd median trimmed   mad min max range skew
## height    1 15  65.00  4.47     65   65.00  5.93  58  72    14 0.00
## weight    2 15 136.73 15.50    135  136.31 17.79 115 164    49 0.23
##        kurtosis   se
## height    -1.44 1.15
## weight    -1.34 4.00</code></pre>
</div>
<div id="describing-categorical-variables" class="section level3">
<h3><span class="header-section-number">3.2.2</span> Describing categorical variables</h3>
<p>Let us use <code>infert</code> dataset,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(infert)</code></pre></div>
<pre><code>##   education age parity induced case spontaneous stratum pooled.stratum
## 1    0-5yrs  26      6       1    1           2       1              3
## 2    0-5yrs  42      1       1    1           0       2              1
## 3    0-5yrs  39      6       2    1           0       3              4
## 4    0-5yrs  34      4       2    1           0       4              2
## 5   6-11yrs  35      3       1    1           1       5             32
## 6   6-11yrs  36      4       2    1           1       6             36</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">names</span>(infert)</code></pre></div>
<pre><code>## [1] &quot;education&quot;      &quot;age&quot;            &quot;parity&quot;         &quot;induced&quot;       
## [5] &quot;case&quot;           &quot;spontaneous&quot;    &quot;stratum&quot;        &quot;pooled.stratum&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(infert)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    248 obs. of  8 variables:
##  $ education     : Factor w/ 3 levels &quot;0-5yrs&quot;,&quot;6-11yrs&quot;,..: 1 1 1 1 2 2 2 2 2 2 ...
##  $ age           : num  26 42 39 34 35 36 23 32 21 28 ...
##  $ parity        : num  6 1 6 4 3 4 1 2 1 2 ...
##  $ induced       : num  1 1 2 2 1 2 0 0 0 0 ...
##  $ case          : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ spontaneous   : num  2 0 0 0 1 1 0 0 1 0 ...
##  $ stratum       : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ pooled.stratum: num  3 1 4 2 32 36 6 22 5 19 ...</code></pre>
<p>We notice that <code>induced</code>, <code>case</code> and <code>spontaneous</code> are not yet set as categorical variables, thus we need to <code>factor</code> the variables. We view the value labels in the dataset description,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">?infert</code></pre></div>
<p>We label the values in the variables according to the description as</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">infert$induced =<span class="st"> </span><span class="kw">factor</span>(infert$induced, <span class="dt">levels =</span> <span class="dv">0</span>:<span class="dv">2</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;0&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;2 or more&quot;</span>))
infert$case =<span class="st"> </span><span class="kw">factor</span>(infert$case, <span class="dt">levels =</span> <span class="dv">0</span>:<span class="dv">1</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;control&quot;</span>, <span class="st">&quot;case&quot;</span>))
infert$spontaneous =<span class="st"> </span><span class="kw">factor</span>(infert$spontaneous, <span class="dt">levels =</span> <span class="dv">0</span>:<span class="dv">2</span>, <span class="dt">labels =</span> <span class="kw">c</span>(<span class="st">&quot;0&quot;</span>, <span class="st">&quot;1&quot;</span>, <span class="st">&quot;2 or more&quot;</span>))
<span class="kw">str</span>(infert)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    248 obs. of  8 variables:
##  $ education     : Factor w/ 3 levels &quot;0-5yrs&quot;,&quot;6-11yrs&quot;,..: 1 1 1 1 2 2 2 2 2 2 ...
##  $ age           : num  26 42 39 34 35 36 23 32 21 28 ...
##  $ parity        : num  6 1 6 4 3 4 1 2 1 2 ...
##  $ induced       : Factor w/ 3 levels &quot;0&quot;,&quot;1&quot;,&quot;2 or more&quot;: 2 2 3 3 2 3 1 1 1 1 ...
##  $ case          : Factor w/ 2 levels &quot;control&quot;,&quot;case&quot;: 2 2 2 2 2 2 2 2 2 2 ...
##  $ spontaneous   : Factor w/ 3 levels &quot;0&quot;,&quot;1&quot;,&quot;2 or more&quot;: 3 1 1 1 2 2 1 1 2 1 ...
##  $ stratum       : int  1 2 3 4 5 6 7 8 9 10 ...
##  $ pooled.stratum: num  3 1 4 2 32 36 6 22 5 19 ...</code></pre>
<p>and we now all these variables are turned into factors.</p>
<p>Again, the variables can be easily viewed together by <code>summary</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">summary</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)])</code></pre></div>
<pre><code>##    education        induced         case        spontaneous 
##  0-5yrs : 12   0        :143   control:165   0        :141  
##  6-11yrs:120   1        : 68   case   : 83   1        : 71  
##  12+ yrs:116   2 or more: 37                 2 or more: 36</code></pre>
<p>We do not use <code>table</code> here in form of <code>table(infert[c(&quot;education&quot;, &quot;induced&quot;, &quot;case&quot;, &quot;spontaneous&quot;)])</code> because <code>table</code> used in this form will give us 3-way cross-tabulation instead of count per categories. Cross-tabulation of categorical variables will be covered later.</p>
<p>To obtain the proportion and percentage results, we have to use <code>lapply</code>,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], function(x) <span class="kw">summary</span>(x)/<span class="kw">length</span>(x))</code></pre></div>
<pre><code>## $education
##    0-5yrs   6-11yrs   12+ yrs 
## 0.0483871 0.4838710 0.4677419 
## 
## $induced
##         0         1 2 or more 
## 0.5766129 0.2741935 0.1491935 
## 
## $case
##   control      case 
## 0.6653226 0.3346774 
## 
## $spontaneous
##         0         1 2 or more 
## 0.5685484 0.2862903 0.1451613</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], function(x) <span class="kw">summary</span>(x)/<span class="kw">length</span>(x)*<span class="dv">100</span>)</code></pre></div>
<pre><code>## $education
##   0-5yrs  6-11yrs  12+ yrs 
##  4.83871 48.38710 46.77419 
## 
## $induced
##         0         1 2 or more 
##  57.66129  27.41935  14.91935 
## 
## $case
##  control     case 
## 66.53226 33.46774 
## 
## $spontaneous
##         0         1 2 or more 
##  56.85484  28.62903  14.51613</code></pre>
<p>because we need <code>lappy</code> to obtain the values for each of the variables. <code>lappy</code> goes through each variable and performs this particular part,</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">function(x) <span class="kw">summary</span>(x)/<span class="kw">length</span>(x)</code></pre></div>
<p><code>function(x)</code> is needed to specify some extra operations to any basic function in R, in our case <code>summary(x)</code> divided by <code>length(x)</code>, in which the summary results (the counts) are divided by the number of subjects (<code>length(x)</code> gives us the “length” of our dataset).</p>
<p>Now, since we already learned about <code>lapply</code>, we may also obtain the same results by using <code>summary</code> (within <code>lapply</code>), <code>table</code> and <code>prop.table</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], summary)</code></pre></div>
<pre><code>## $education
##  0-5yrs 6-11yrs 12+ yrs 
##      12     120     116 
## 
## $induced
##         0         1 2 or more 
##       143        68        37 
## 
## $case
## control    case 
##     165      83 
## 
## $spontaneous
##         0         1 2 or more 
##       141        71        36</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], table)</code></pre></div>
<pre><code>## $education
## 
##  0-5yrs 6-11yrs 12+ yrs 
##      12     120     116 
## 
## $induced
## 
##         0         1 2 or more 
##       143        68        37 
## 
## $case
## 
## control    case 
##     165      83 
## 
## $spontaneous
## 
##         0         1 2 or more 
##       141        71        36</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], function(x) <span class="kw">prop.table</span>(<span class="kw">table</span>(x)))</code></pre></div>
<pre><code>## $education
## x
##    0-5yrs   6-11yrs   12+ yrs 
## 0.0483871 0.4838710 0.4677419 
## 
## $induced
## x
##         0         1 2 or more 
## 0.5766129 0.2741935 0.1491935 
## 
## $case
## x
##   control      case 
## 0.6653226 0.3346774 
## 
## $spontaneous
## x
##         0         1 2 or more 
## 0.5685484 0.2862903 0.1451613</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">lapply</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;case&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], function(x) <span class="kw">prop.table</span>(<span class="kw">table</span>(x))*<span class="dv">100</span>)</code></pre></div>
<pre><code>## $education
## x
##   0-5yrs  6-11yrs  12+ yrs 
##  4.83871 48.38710 46.77419 
## 
## $induced
## x
##         0         1 2 or more 
##  57.66129  27.41935  14.91935 
## 
## $case
## x
##  control     case 
## 66.53226 33.46774 
## 
## $spontaneous
## x
##         0         1 2 or more 
##  56.85484  28.62903  14.51613</code></pre>
<p>Notice here, whenever we do not need to specify extra operations on a basic function, e.g. <code>summary</code> and <code>table</code>, all we need to write after the comma in <code>lapply</code> is the basic function without <code>function(x)</code> and <code>(x)</code>.</p>
</div>
<div id="describing-the-variables-together" class="section level3">
<h3><span class="header-section-number">3.2.3</span> Describing the variables together</h3>
<p>In the preceeding sections, we intentionally went through the descriptive statistics of a variable, followed by a number of variables of the same type. This will give you the basics in dealing with the variables. Most commonly, the variables are described by groups or in form cross-tabulated counts/percentages.</p>
<div id="by-groups" class="section level4">
<h4><span class="header-section-number">3.2.3.1</span> By groups</h4>
<p>To obtain all the descriptive statistics by group, we can use <code>by</code> with the relevant functions</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">by</span>(infert[<span class="kw">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;parity&quot;</span>)], infert$case, summary)</code></pre></div>
<pre><code>## infert$case: control
##       age            parity     
##  Min.   :21.00   Min.   :1.000  
##  1st Qu.:28.00   1st Qu.:1.000  
##  Median :31.00   Median :2.000  
##  Mean   :31.49   Mean   :2.085  
##  3rd Qu.:35.00   3rd Qu.:3.000  
##  Max.   :44.00   Max.   :6.000  
## -------------------------------------------------------- 
## infert$case: case
##       age            parity     
##  Min.   :21.00   Min.   :1.000  
##  1st Qu.:28.00   1st Qu.:1.000  
##  Median :31.00   Median :2.000  
##  Mean   :31.53   Mean   :2.108  
##  3rd Qu.:35.50   3rd Qu.:3.000  
##  Max.   :44.00   Max.   :6.000</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">by</span>(infert[<span class="kw">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;parity&quot;</span>)], infert$case, describe)</code></pre></div>
<pre><code>## infert$case: control
##        vars   n  mean   sd median trimmed  mad min max range skew kurtosis
## age       1 165 31.49 5.25     31   31.34 5.93  21  44    23 0.23    -0.72
## parity    2 165  2.08 1.24      2    1.88 1.48   1   6     5 1.32     1.42
##          se
## age    0.41
## parity 0.10
## -------------------------------------------------------- 
## infert$case: case
##        vars  n  mean   sd median trimmed  mad min max range skew kurtosis
## age       1 83 31.53 5.28     31   31.39 5.93  21  44    23 0.21    -0.77
## parity    2 83  2.11 1.28      2    1.90 1.48   1   6     5 1.32     1.34
##          se
## age    0.58
## parity 0.14</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">by</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], infert$case, summary)</code></pre></div>
<pre><code>## infert$case: control
##    education       induced      spontaneous 
##  0-5yrs : 8   0        :96   0        :113  
##  6-11yrs:80   1        :45   1        : 40  
##  12+ yrs:77   2 or more:24   2 or more: 12  
## -------------------------------------------------------- 
## infert$case: case
##    education       induced      spontaneous
##  0-5yrs : 4   0        :47   0        :28  
##  6-11yrs:40   1        :23   1        :31  
##  12+ yrs:39   2 or more:13   2 or more:24</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">by</span>(infert[<span class="kw">c</span>(<span class="st">&quot;education&quot;</span>, <span class="st">&quot;induced&quot;</span>, <span class="st">&quot;spontaneous&quot;</span>)], infert$case, function(x) <span class="kw">lapply</span>(x, table))</code></pre></div>
<pre><code>## infert$case: control
## $education
## 
##  0-5yrs 6-11yrs 12+ yrs 
##       8      80      77 
## 
## $induced
## 
##         0         1 2 or more 
##        96        45        24 
## 
## $spontaneous
## 
##         0         1 2 or more 
##       113        40        12 
## 
## -------------------------------------------------------- 
## infert$case: case
## $education
## 
##  0-5yrs 6-11yrs 12+ yrs 
##       4      40      39 
## 
## $induced
## 
##         0         1 2 or more 
##        47        23        13 
## 
## $spontaneous
## 
##         0         1 2 or more 
##        28        31        24</code></pre>
<p>Please note that simply replacing <code>table</code> for <code>summary</code> as in <code>by(infert[c(&quot;education&quot;, &quot;induced&quot;, &quot;spontaneous&quot;)], infert$case, table)</code> will not work as intended. <code>education</code> will be nested in <code>induced</code>, which is nested in <code>spontaneous</code>, listed by <code>case</code> instead.</p>
<p>We can also use <code>describeBy</code>, which is an the extension of <code>describe</code> in the <code>psych</code> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">describeBy</span>(infert[<span class="kw">c</span>(<span class="st">&quot;age&quot;</span>, <span class="st">&quot;parity&quot;</span>)], <span class="dt">group =</span> infert$case)</code></pre></div>
<pre><code>## 
##  Descriptive statistics by group 
## group: control
##        vars   n  mean   sd median trimmed  mad min max range skew kurtosis
## age       1 165 31.49 5.25     31   31.34 5.93  21  44    23 0.23    -0.72
## parity    2 165  2.08 1.24      2    1.88 1.48   1   6     5 1.32     1.42
##          se
## age    0.41
## parity 0.10
## -------------------------------------------------------- 
## group: case
##        vars  n  mean   sd median trimmed  mad min max range skew kurtosis
## age       1 83 31.53 5.28     31   31.39 5.93  21  44    23 0.21    -0.77
## parity    2 83  2.11 1.28      2    1.90 1.48   1   6     5 1.32     1.34
##          se
## age    0.58
## parity 0.14</code></pre>
<p>which is limited to numerical variables only.</p>
</div>
<div id="simple-cross-tabulation" class="section level4">
<h4><span class="header-section-number">3.2.3.2</span> Simple cross-tabulation</h4>
</div>
</div>
</div>
<div id="more-on-tables" class="section level2">
<h2><span class="header-section-number">3.3</span> More on tables</h2>
<p>This requires special attention.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="introduction-to-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="grammar-of-variables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": ["_main.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
