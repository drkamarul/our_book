[
["prepare-folder-and-data.html", "4 Prepare folder and data 4.1 Set the working directory", " 4 Prepare folder and data 4.1 Set the working directory This can be done in 2 ways: Using codes Using point and click To use point and click, use the down arrow button next to More . Then click ‘Set as working directory’ "],
["read-data.html", "5 Read Data", " 5 Read Data library(foreign) data_qol&lt;-read.dta(&#39;qol.dta&#39;,convert.factors = T) str(data_qol) ## &#39;data.frame&#39;: 365 obs. of 13 variables: ## $ id : num 308 335 94 329 350 22 171 274 332 147 ... ## $ sex : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 1 2 1 1 1 2 1 1 2 2 ... ## $ age : num 55 41 50 47 67 57 60 54 60 45 ... ## $ tahundx : num 14 4 5 10 13 4 4 15 13 3 ... ## $ tx : Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... ## $ group : Factor w/ 2 levels &quot;\\&quot;group A\\&quot;&quot;,..: 2 2 1 2 2 1 1 1 2 1 ... ## $ complica : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 1 1 2 1 2 1 1 2 1 ... ## $ hba1c : num 8.1 8 7.5 9.4 11.7 8.1 7.5 9.2 NA NA ... ## $ fbs : num 6.9 4.8 8 3.6 12.5 8.5 NA NA NA NA ... ## $ rbs : num 16.7 7.4 13.2 7.4 NA 7.8 9.4 7.8 NA 12.4 ... ## $ tg_total : num 0.92 1.66 0.74 0.94 3.01 1.3 NA 1.9 NA NA ... ## $ choleste : num 7.09 2.91 5.94 3.27 7.1 3.54 NA 5.7 NA NA ... ## $ ADDQSCORE: num 0 -0.222 -0.333 -0.36 -0.44 ... ## - attr(*, &quot;datalabel&quot;)= chr &quot;&quot; ## - attr(*, &quot;time.stamp&quot;)= chr &quot;&quot; ## - attr(*, &quot;formats&quot;)= chr &quot;%10.0g&quot; &quot;%10.0g&quot; &quot;%10.0g&quot; &quot;%10.0g&quot; ... ## - attr(*, &quot;types&quot;)= int 255 255 255 255 255 255 255 255 255 255 ... ## - attr(*, &quot;val.labels&quot;)= chr &quot;&quot; &quot;sex&quot; &quot;&quot; &quot;&quot; ... ## - attr(*, &quot;var.labels&quot;)= chr &quot;id_no&quot; &quot;sex&quot; &quot;&quot; &quot;&quot; ... ## - attr(*, &quot;version&quot;)= int 8 ## - attr(*, &quot;label.table&quot;)=List of 4 ## ..$ sex : Named int 0 1 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;female&quot; &quot;male&quot; ## ..$ tx : Named int 1 2 3 4 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;diet only&quot; &quot;OHA and diet only&quot; &quot;insulin and diet only&quot; &quot;all&quot; ## ..$ group : Named int 1 2 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;\\&quot;group A\\&quot;&quot; &quot;\\&quot;group B\\&quot;&quot; ## ..$ complica: Named int 0 1 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;no&quot; &quot;yes&quot; "],
["browse-data.html", "6 Browse data", " 6 Browse data First few rows Last few rows head(data_qol) ## id sex age tahundx tx group complica hba1c ## 1 308 female 55 14 insulin and diet only &quot;group B&quot; yes 8.1 ## 2 335 male 41 4 all &quot;group B&quot; no 8.0 ## 3 94 female 50 5 OHA and diet only &quot;group A&quot; no 7.5 ## 4 329 female 47 10 all &quot;group B&quot; yes 9.4 ## 5 350 female 67 13 all &quot;group B&quot; no 11.7 ## 6 22 male 57 4 OHA and diet only &quot;group A&quot; yes 8.1 ## fbs rbs tg_total choleste ADDQSCORE ## 1 6.9 16.7 0.92 7.09 0.0000000 ## 2 4.8 7.4 1.66 2.91 -0.2222222 ## 3 8.0 13.2 0.74 5.94 -0.3333333 ## 4 3.6 7.4 0.94 3.27 -0.3600000 ## 5 12.5 NA 3.01 7.10 -0.4400000 ## 6 8.5 7.8 1.30 3.54 -0.5000000 tail(data_qol) ## id sex age tahundx tx group complica hba1c fbs ## 360 14 male 45 10 OHA and diet only &quot;group A&quot; no 9.6 12.6 ## 361 170 male 57 4 OHA and diet only &quot;group A&quot; no NA NA ## 362 214 male 48 5 OHA and diet only &quot;group A&quot; no NA NA ## 363 174 male 45 2 OHA and diet only &quot;group A&quot; no 8.5 NA ## 364 130 male 64 16 OHA and diet only &quot;group A&quot; no 6.1 3.8 ## 365 219 male 46 2 diet only &quot;group A&quot; no 5.9 NA ## rbs tg_total choleste ADDQSCORE ## 360 NA NA NA -8.833333 ## 361 9.4 NA NA -8.833333 ## 362 10.7 NA NA -9.000000 ## 363 9.6 NA NA -9.000000 ## 364 7.9 NA NA -9.000000 ## 365 6.3 NA NA -9.000000 "],
["grammar-of-variables.html", "7 Grammar of variables 7.1 Select columns 7.2 Select rows 7.3 Select rows and columns together 7.4 Generate a new variable 7.5 Categorize into new variables 7.6 Dealing with missing data", " 7 Grammar of variables 7.1 Select columns Let us create a new dataframe with only id, sex and hba1c as the variables data_qol2&lt;-subset(data_qol, select = c(&#39;sex&#39;, &#39;age&#39;, &#39;hba1c&#39;)) str(data_qol2) ## &#39;data.frame&#39;: 365 obs. of 3 variables: ## $ sex : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 1 2 1 1 1 2 1 1 2 2 ... ## $ age : num 55 41 50 47 67 57 60 54 60 45 ... ## $ hba1c: num 8.1 8 7.5 9.4 11.7 8.1 7.5 9.2 NA NA ... alternatively, we can use other subsetting functions data_qol3&lt;-data_qol[,c(&#39;sex&#39;,&#39;age&#39;,&#39;hba1c&#39;)] str(data_qol3) ## &#39;data.frame&#39;: 365 obs. of 3 variables: ## $ sex : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 1 2 1 1 1 2 1 1 2 2 ... ## $ age : num 55 41 50 47 67 57 60 54 60 45 ... ## $ hba1c: num 8.1 8 7.5 9.4 11.7 8.1 7.5 9.2 NA NA ... 7.2 Select rows data_qol4&lt;-subset(data_qol, age &gt; 30) str(data_qol4) ## &#39;data.frame&#39;: 363 obs. of 13 variables: ## $ id : num 308 335 94 329 350 22 171 274 332 147 ... ## $ sex : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 1 2 1 1 1 2 1 1 2 2 ... ## $ age : num 55 41 50 47 67 57 60 54 60 45 ... ## $ tahundx : num 14 4 5 10 13 4 4 15 13 3 ... ## $ tx : Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... ## $ group : Factor w/ 2 levels &quot;\\&quot;group A\\&quot;&quot;,..: 2 2 1 2 2 1 1 1 2 1 ... ## $ complica : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 1 1 2 1 2 1 1 2 1 ... ## $ hba1c : num 8.1 8 7.5 9.4 11.7 8.1 7.5 9.2 NA NA ... ## $ fbs : num 6.9 4.8 8 3.6 12.5 8.5 NA NA NA NA ... ## $ rbs : num 16.7 7.4 13.2 7.4 NA 7.8 9.4 7.8 NA 12.4 ... ## $ tg_total : num 0.92 1.66 0.74 0.94 3.01 1.3 NA 1.9 NA NA ... ## $ choleste : num 7.09 2.91 5.94 3.27 7.1 3.54 NA 5.7 NA NA ... ## $ ADDQSCORE: num 0 -0.222 -0.333 -0.36 -0.44 ... summary(data_qol4$age) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 32.00 47.00 53.00 52.91 59.00 80.00 alternatively, we can use other subsetting functions data_qol5&lt;-data_qol[data_qol$age&gt;30,] str(data_qol5) ## &#39;data.frame&#39;: 363 obs. of 13 variables: ## $ id : num 308 335 94 329 350 22 171 274 332 147 ... ## $ sex : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 1 2 1 1 1 2 1 1 2 2 ... ## $ age : num 55 41 50 47 67 57 60 54 60 45 ... ## $ tahundx : num 14 4 5 10 13 4 4 15 13 3 ... ## $ tx : Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... ## $ group : Factor w/ 2 levels &quot;\\&quot;group A\\&quot;&quot;,..: 2 2 1 2 2 1 1 1 2 1 ... ## $ complica : Factor w/ 2 levels &quot;no&quot;,&quot;yes&quot;: 2 1 1 2 1 2 1 1 2 1 ... ## $ hba1c : num 8.1 8 7.5 9.4 11.7 8.1 7.5 9.2 NA NA ... ## $ fbs : num 6.9 4.8 8 3.6 12.5 8.5 NA NA NA NA ... ## $ rbs : num 16.7 7.4 13.2 7.4 NA 7.8 9.4 7.8 NA 12.4 ... ## $ tg_total : num 0.92 1.66 0.74 0.94 3.01 1.3 NA 1.9 NA NA ... ## $ choleste : num 7.09 2.91 5.94 3.27 7.1 3.54 NA 5.7 NA NA ... ## $ ADDQSCORE: num 0 -0.222 -0.333 -0.36 -0.44 ... ## - attr(*, &quot;datalabel&quot;)= chr &quot;&quot; ## - attr(*, &quot;time.stamp&quot;)= chr &quot;&quot; ## - attr(*, &quot;formats&quot;)= chr &quot;%10.0g&quot; &quot;%10.0g&quot; &quot;%10.0g&quot; &quot;%10.0g&quot; ... ## - attr(*, &quot;types&quot;)= int 255 255 255 255 255 255 255 255 255 255 ... ## - attr(*, &quot;val.labels&quot;)= chr &quot;&quot; &quot;sex&quot; &quot;&quot; &quot;&quot; ... ## - attr(*, &quot;var.labels&quot;)= chr &quot;id_no&quot; &quot;sex&quot; &quot;&quot; &quot;&quot; ... ## - attr(*, &quot;version&quot;)= int 8 ## - attr(*, &quot;label.table&quot;)=List of 4 ## ..$ sex : Named int 0 1 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;female&quot; &quot;male&quot; ## ..$ tx : Named int 1 2 3 4 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;diet only&quot; &quot;OHA and diet only&quot; &quot;insulin and diet only&quot; &quot;all&quot; ## ..$ group : Named int 1 2 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;\\&quot;group A\\&quot;&quot; &quot;\\&quot;group B\\&quot;&quot; ## ..$ complica: Named int 0 1 ## .. ..- attr(*, &quot;names&quot;)= chr &quot;no&quot; &quot;yes&quot; summary(data_qol5$age) ## Min. 1st Qu. Median Mean 3rd Qu. Max. ## 32.00 47.00 53.00 52.91 59.00 80.00 7.3 Select rows and columns together data_qol6&lt;-subset(data_qol,age&gt;30 &amp; sex==&#39;male&#39;, select = c(id, sex, age, group)) str(data_qol6) ## &#39;data.frame&#39;: 211 obs. of 4 variables: ## $ id : num 335 22 332 147 247 185 331 323 314 305 ... ## $ sex : Factor w/ 2 levels &quot;female&quot;,&quot;male&quot;: 2 2 2 2 2 2 2 2 2 2 ... ## $ age : num 41 57 60 45 59 48 58 69 65 73 ... ## $ group: Factor w/ 2 levels &quot;\\&quot;group A\\&quot;&quot;,..: 2 1 2 1 1 1 2 2 2 2 ... table(data_qol6$sex) ## ## female male ## 0 211 7.4 Generate a new variable data_qol$age_cat&lt;-data_qol$age View(data_qol) 7.5 Categorize into new variables 7.5.1 From a numerical variable data_qol$age_cat&lt;-cut(data_qol$age_cat, breaks=c(min(data_qol$age),40,60,Inf), labels=c(&#39;min-39&#39;,&#39;40-59&#39;,&#39;60-above&#39;)) min(data_qol$age) ## [1] 21 table(data_qol$age_cat) ## ## min-39 40-59 60-above ## 32 259 73 str(data_qol$age_cat) ## Factor w/ 3 levels &quot;min-39&quot;,&quot;40-59&quot;,..: 2 2 2 2 3 2 2 2 2 2 ... 7.5.2 From a categorical variable table(data_qol$tx) ## ## diet only OHA and diet only insulin and diet only ## 10 238 26 ## all ## 91 str(data_qol$tx) ## Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... Create a variable with ‘Diet only’ vs ‘Diet+Drug’. This is a little bit complicated data_qol$tx2&lt;-data_qol$tx str(data_qol$tx2) ## Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... str(data_qol$tx) ## Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... table(data_qol$tx2) ## ## diet only OHA and diet only insulin and diet only ## 10 238 26 ## all ## 91 library(plyr) data_qol$tx2&lt;-revalue(data_qol$tx,c(&#39;diet only&#39;=&#39;diet&#39;, &#39;OHA and diet only&#39;=&#39;med&#39;, &#39;insulin and diet only&#39;=&#39;med&#39;, &#39;all&#39;=&#39;med&#39;)) table(data_qol$tx2) ## ## diet med ## 10 355 7.6 Dealing with missing data data_qol$tx3&lt;-data_qol$tx str(data_qol$tx3) ## Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... str(data_qol$tx) ## Factor w/ 4 levels &quot;diet only&quot;,&quot;OHA and diet only&quot;,..: 3 4 2 4 4 2 2 2 4 2 ... table(data_qol$tx3) ## ## diet only OHA and diet only insulin and diet only ## 10 238 26 ## all ## 91 7.6.1 Replace values with ‘NA’ data_qol$tx3&lt;-revalue(data_qol$tx,c(&#39;diet only&#39;=NA)) table(data_qol$tx3) ## ## OHA and diet only insulin and diet only all ## 238 26 91 str(data_qol$tx3) ## Factor w/ 3 levels &quot;OHA and diet only&quot;,..: 2 3 1 3 3 1 1 1 3 1 ... "],
["additional-package.html", "8 Additional package 8.1 Package ‘dplyr’", " 8 Additional package 8.1 Package ‘dplyr’ ‘dplyr’ package is a very useful package that encourage users to use proper verb when manipulating variables (columns) and observations (rows) It has 9 useful functions 1. filter() 2. arrange() 3. select() 4. distinct() 5. mutate() and transmute() 6. summarise() 7. sample_n() and sample_frac() Package ‘dplyr’ is very useful when it is combined with another function that is ‘group_by’ "]
]
